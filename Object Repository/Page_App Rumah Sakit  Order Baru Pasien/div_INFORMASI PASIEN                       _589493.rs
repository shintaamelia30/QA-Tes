<?xml version="1.0" encoding="UTF-8"?>
<WebElementEntity>
   <description></description>
   <name>div_INFORMASI PASIEN                       _589493</name>
   <tag></tag>
   <elementGuidId>0a477f41-22f7-4698-af31-b2123e76b3c0</elementGuidId>
   <selectorCollection>
      <entry>
         <key>XPATH</key>
         <value>//div[@id='content']/div/div/div[2]/form/div[3]</value>
      </entry>
      <entry>
         <key>CSS</key>
         <value>div.show-udd-selected</value>
      </entry>
   </selectorCollection>
   <selectorMethod>XPATH</selectorMethod>
   <useRalativeImagePath>true</useRalativeImagePath>
   <webElementProperties>
      <isSelected>false</isSelected>
      <matchCondition>equals</matchCondition>
      <name>tag</name>
      <type>Main</type>
      <value>div</value>
   </webElementProperties>
   <webElementProperties>
      <isSelected>false</isSelected>
      <matchCondition>equals</matchCondition>
      <name>class</name>
      <type>Main</type>
      <value>show-udd-selected</value>
   </webElementProperties>
   <webElementProperties>
      <isSelected>true</isSelected>
      <matchCondition>equals</matchCondition>
      <name>text</name>
      <type>Main</type>
      <value>


    INFORMASI PASIEN

    
         
            Cari Nomor Rekam Medis Pasien
            
                reza-001reza-001
            
            
                Reset
            
        
        
            Nomor Rekam Medis Pasien *
            
                
            
        
        
            Nama Pasien *
            
                
            
        
        
            Alamat *
            
                
            
        
        
            Jenis kelamin * 
            
                
                    Laki-laki
                
                
                    Perempuan
                
            
        
        
            Penanggung jawab *
            
                
            
        
        
            Tanggal lahir *
            
                
                    
                    
                        
                    
                
            
        
        
            No telp/HP *
            
                
            
        
        
            Diagnosa Klinis *
            
                
                    - Pilih Diagnosisi Klinis
                                                                        Anemia 
                                                    Talasemia 
                                                    Lainnya 
                                                            
            
        
        
            Jenis Permintan *
            
                
                    - Pilih Jenis Permintan
                                                                        Biasa 
                                                    Cyto 
                                                            
            
        
        
            Alasan transfusi *
            
                
            
        
        
            HB *
            
                
            
        
        
            Obat yang diberikan
            
                
            
        
    
    
        
            Transfusi Sebelumnya *
            
                
                    Ya
                
                
                    Tidak
                
            
        
        
            
                Kapan
                
                    
                    
                        
                    
                
            
            
                Gejala reaksi transfusi
                
                    
                
            
        
        
        Apakah anda pernah diperiksa serologi golongan darah (Coomb's Test) ? *
        
            
                Ya
            
            
                Tidak
            
        
        
            
                Dimana
            
            
                Kapan
                
                    
                    
                        
                    
                
            
            
                Hasil
            
        
        
        
            Khusus pasien wanita
            
                Pernah hamil
                
                    
                        Ya
                    
                    
                        Tidak
                    
                
            
            
                Berapa kali
                
                    
                
            
            Pernah abortus atau bayi kuning karena hemolisis (HDN) ?
            
                
                    Ya
                
                
                    Tidak
                
            
        
    





    INFORMASI DARAH GolDar Pasien B- 
    DARAH LENGKAP (WHOLE BLOOD), DARAH MERAH PEKAT (PACKED RED CELL), PLASMA
    
        

                                                
                        
                            A+
                        
                    
                                    
                        
                            B+
                        
                    
                                    
                        
                            O+
                        
                    
                                    
                        
                            AB+
                        
                    
                                    
                        
                            A-
                        
                    
                                    
                        
                            B-
                        
                    
                                    
                        
                            O-
                        
                    
                                    
                        
                            AB-
                        
                    
                                    

        
            
            
                                    
                        
                            
                                
                                    No
                                    Nama
                                    Deskripsi
                                    Stok
                                    Pilih Pesanan
                                    Jumlah Pesan
                                
                                
                                                                                                                        
                                                1
                                                FFP
                                                FFP (Fresh Frozen Plasma)
                                                48
                                                
                                                    
                                                
                                                
                                                    
                                                
                                            

                                                                                    
                                                2
                                                Leucodepleted
                                                Leucodepleted
                                                27
                                                
                                                    
                                                
                                                
                                                    
                                                
                                            

                                                                                    
                                                3
                                                PRC
                                                PRC: Packed Red Cell
                                                31
                                                
                                                    
                                                
                                                
                                                    
                                                
                                            

                                                                                    
                                                4
                                                TC
                                                TC: Trombocyte Concentrate
                                                6
                                                
                                                    
                                                
                                                
                                                    
                                                
                                            

                                                                                    
                                                5
                                                TC Aferesis
                                                TC Apheresis
                                                5
                                                
                                                    
                                                
                                                
                                                    
                                                
                                            

                                                                                    
                                                6
                                                WB
                                                WB: Whole Blood
                                                8
                                                
                                                    
                                                
                                                
                                                    
                                                
                                            

                                                                                                            
                            
                        
                    
                                    
                        
                            
                                
                                    No
                                    Nama
                                    Deskripsi
                                    Stok
                                    Pilih Pesanan
                                    Jumlah Pesan
                                
                                
                                                                                                                        
                                                1
                                                FFP
                                                FFP (Fresh Frozen Plasma)
                                                85
                                                
                                                    
                                                
                                                
                                                    
                                                
                                            

                                                                                    
                                                2
                                                Leucodepleted
                                                Leucodepleted
                                                68
                                                
                                                    
                                                
                                                
                                                    
                                                
                                            

                                                                                    
                                                3
                                                PRC
                                                PRC: Packed Red Cell
                                                67
                                                
                                                    
                                                
                                                
                                                    
                                                
                                            

                                                                                    
                                                4
                                                TC
                                                TC: Trombocyte Concentrate
                                                7
                                                
                                                    
                                                
                                                
                                                    
                                                
                                            

                                                                                    
                                                5
                                                TC Aferesis
                                                TC Apheresis
                                                5
                                                
                                                    
                                                
                                                
                                                    
                                                
                                            

                                                                                    
                                                6
                                                WB
                                                WB: Whole Blood
                                                10
                                                
                                                    
                                                
                                                
                                                    
                                                
                                            

                                                                                                            
                            
                        
                    
                                    
                        
                            
                                
                                    No
                                    Nama
                                    Deskripsi
                                    Stok
                                    Pilih Pesanan
                                    Jumlah Pesan
                                
                                
                                                                                                                        
                                                1
                                                FFP
                                                FFP (Fresh Frozen Plasma)
                                                38
                                                
                                                    
                                                
                                                
                                                    
                                                
                                            

                                                                                    
                                                2
                                                Leucodepleted
                                                Leucodepleted
                                                19
                                                
                                                    
                                                
                                                
                                                    
                                                
                                            

                                                                                    
                                                3
                                                PRC
                                                PRC: Packed Red Cell
                                                290
                                                
                                                    
                                                
                                                
                                                    
                                                
                                            

                                                                                    
                                                4
                                                TC
                                                TC: Trombocyte Concentrate
                                                73
                                                
                                                    
                                                
                                                
                                                    
                                                
                                            

                                                                                    
                                                5
                                                TC Aferesis
                                                TC Apheresis
                                                2
                                                
                                                    
                                                
                                                
                                                    
                                                
                                            

                                                                                    
                                                6
                                                WB
                                                WB: Whole Blood
                                                10
                                                
                                                    
                                                
                                                
                                                    
                                                
                                            

                                                                                                            
                            
                        
                    
                                    
                        
                            
                                
                                    No
                                    Nama
                                    Deskripsi
                                    Stok
                                    Pilih Pesanan
                                    Jumlah Pesan
                                
                                
                                                                                                                        
                                                1
                                                FFP
                                                FFP (Fresh Frozen Plasma)
                                                34
                                                
                                                    
                                                
                                                
                                                    
                                                
                                            

                                                                                    
                                                2
                                                Leucodepleted
                                                Leucodepleted
                                                1
                                                
                                                    
                                                
                                                
                                                    
                                                
                                            

                                                                                    
                                                3
                                                PRC
                                                PRC: Packed Red Cell
                                                32
                                                
                                                    
                                                
                                                
                                                    
                                                
                                            

                                                                                    
                                                4
                                                TC
                                                TC: Trombocyte Concentrate
                                                26
                                                
                                                    
                                                
                                                
                                                    
                                                
                                            

                                                                                    
                                                5
                                                WB
                                                WB: Whole Blood
                                                4
                                                
                                                    
                                                
                                                
                                                    
                                                
                                            

                                                                                                            
                            
                        
                    
                                    
                        
                            
                                
                                    No
                                    Nama
                                    Deskripsi
                                    Stok
                                    Pilih Pesanan
                                    Jumlah Pesan
                                
                                
                                                                                                                        
                                                1
                                                FFP
                                                FFP (Fresh Frozen Plasma)
                                                2
                                                
                                                    
                                                
                                                
                                                    
                                                
                                            

                                                                                                            
                            
                        
                    
                                    
                        
                            
                                
                                    No
                                    Nama
                                    Deskripsi
                                    Stok
                                    Pilih Pesanan
                                    Jumlah Pesan
                                
                                
                                                                            
                                            
                                                Belum ada stok
                                            
                                        
                                                                    
                            
                        
                    
                                    
                        
                            
                                
                                    No
                                    Nama
                                    Deskripsi
                                    Stok
                                    Pilih Pesanan
                                    Jumlah Pesan
                                
                                
                                                                            
                                            
                                                Belum ada stok
                                            
                                        
                                                                    
                            
                        
                    
                                    
                        
                            
                                
                                    No
                                    Nama
                                    Deskripsi
                                    Stok
                                    Pilih Pesanan
                                    Jumlah Pesan
                                
                                
                                                                            
                                            
                                                Belum ada stok
                                            
                                        
                                                                    
                            
                        
                    
                
                        
            
        
    




    INFORMASI PETUGAS
    
        
            Nama Dokter yang Meminta Darah *
            
                
            
        
        Identitas yang Mengambil Contoh Darah Pasien *
        
            Nama Petugas Pengambil Sampel Darah *
            
                
            
        
        
            Tanggal *
            
                
                    
                    
                        
                    
                
            

        
        
            Batal
            Kirim
        
    









$(document).ready(function() {
    $('.datepicker').attr('readonly', true)
    // $('.datetimepicker').attr('readonly', true)
    $(&quot;.datetimepicker-petugas&quot;).datetimepicker({
        format: 'dd-mm-yyyy hh:ii',
        autoclose: false,
        todayHighlight: true,
        todayBtn: true,

    });

    $(&quot;.datepicker&quot;).datepicker({
        format: 'dd-mm-yyyy',
        autoclose: true,
        todayHighlight: true,
    });

    $(&quot;#female&quot;).click(function(){
        $('#female-patient').css('display','block')
    });
    $(&quot;#male&quot;).click(function(){
        $('#female-patient').hide();
    });

    $(&quot;#transfusi&quot;).click(function(){
        $('#transfusi-date').css('display','block')
    });
    $(&quot;#no-transfusi&quot;).click(function(){
        $('#transfusi-date').hide();
    });

    $(&quot;#coombtest&quot;).click(function(){
        $('#coombtest-info').css('display','flex')
    });
    $(&quot;#no-coombtest&quot;).click(function(){
        $('#coombtest-info').hide();
    });

    $(&quot;#yes-pregnant&quot;).click(function(){
        $('#pregnant-total').css('display','flex')
    });
    $(&quot;#no-pregnant&quot;).click(function(){
        $('#pregnant-total').hide();
    });

    $(&quot;#yes-abortus&quot;).click(function(){
        $('#medicine').css('display','flex')
    });
    $(&quot;#no-abortus&quot;).click(function(){
        $('#medicine').hide();
    });

    /**cek*/
    var arr_darah = [];
    var arr_rhesus = [];
    $('.check_produk_darah').on('click', function(){
        var darah = $(this).data('name_darah')
        var rhesus = $(this).data('rhesus')
        var checked = $(this).prop(&quot;checked&quot;);
        var darah_id = $(this).data('golongan_darah_id')
        var rhesus_id = $(this).data('rhesus_id')

        if(checked == true){ //is dichecked
            if((arr_darah.length == 0 &amp;&amp; arr_rhesus.length == 0) || (arr_darah[0] == darah &amp;&amp; arr_rhesus[0] == rhesus)){ //jika golongan daarah dan rhesusnya == 0 maka di push
                arr_darah.push(darah);
                arr_rhesus.push(rhesus);
                $('input[name=&quot;golongan_darah_id&quot;]').val(darah_id)
                $('input[name=&quot;rhesus_id&quot;]').val(rhesus_id)
            }else { //jika sudah array sudah ada isisinya
                if(arr_darah[0] != darah || rhesus[0] != rhesus){ //apakah valuenya sama ? jika tidak tolak, jika sama lanjut

                    var message = 'Anda sudah memilih golongan darah ' + arr_darah[0] + arr_rhesus[0];
                    $(this).prop('checked', false)
                    return swal.fire(&quot;Warning!&quot;, message, &quot;warning&quot;)
                    }
            }
        }else{
            arr_darah.splice(0,1);
            arr_rhesus.splice(0,1);
            if(arr_darah.length == 1){
                $('input[name=&quot;golongan_darah_id&quot;]').val('')
                $('input[name=&quot;rhesus_id&quot;]').val('')
            }
        }

        // console.log(checked);
        // if(arr_darah.length == 0 || arr_rhesus.length == 0){
        //     arr_darah.push(darah);
        //     arr_rhesus.push(rhesus);
        // }else if(arr_darah[0] != darah || rhesus[0] != rhesus){
        //     var message = 'Anda sudah memilih golongan darah ' + arr_darah[0] + arr_rhesus[0];
        //     return swal.fire(&quot;Warning!&quot;, message, &quot;warning&quot;)
        // }
        console.log(arr_darah, arr_rhesus)

    })


    var route = 'http://dev-rs.sidoni.xyz/rumah-sakit/transfusi/order-baru-transfusi/get-pasien/ND'
    $('.select-norekam').select2({
        placeholder: &quot;Pilih No Rekam Medis&quot;,
        ajax: {
                url: route,
                dataType: 'json',
                data: function (params) {
                            return {
                            no_rekam_medis: $.trim(params.term),
                            };
                        },
                processResults: function (data) {
                    return {
                        results: data
                    };
                },
                cache: true
            }
    });
    $('.btn-reset').on('click', function(){
        $(&quot;.select-norekam&quot;).empty();
        $('.info-goldar').show()
        $.blockUI();
        get_detail_pasien(0)
        $.unblockUI();
    })

    $('.select-norekam').on('change', function(){
        var id = $(this).val();
        $.blockUI();
        get_detail_pasien(id)
        $.unblockUI();
    });

    function get_detail_pasien(id){
        $('input[name=&quot;gender&quot;]').removeAttr('checked')
        var route = 'http://dev-rs.sidoni.xyz/rumah-sakit/transfusi/order-baru-transfusi/get-detail-pasien' + '/' + id
            $.ajax({
                type: &quot;GET&quot;,
                url: route,
                dataType: &quot;json&quot;,
                success: function (response) {
                    if(response.status == true){
                        $('.info-goldar').hide()
                        $('.table-goldar').hide()
                        $('input[name=&quot;no_rekam_medis&quot;]').val(response.result.no_rekam_medis)
                        $('input[name=&quot;nama_pasien&quot;]').val(response.result.nama)
                        $('input[name=&quot;penanggung_jawab&quot;]').val(response.result.penanggung_jawab)
                        $('input[name=&quot;tanggal_lahir&quot;]').val(response.result.tanggal_lahir)
                        $('input[name=&quot;telepon&quot;]').val(response.result.telepon)
                        $('input[name=&quot;alamat&quot;]').val(response.result.alamat)
                        $('.info-goldar').removeClass('active show')
                        $('.table-goldar').removeClass('active show')

                        // $(&quot;.&quot;+ response.result.golongan_darah.nama + (response.result.rhesus_id  == 1 ? 'pos' : 'neg')).show()
                        $(&quot;#&quot;+ response.result.golongan_darah.nama + (response.result.rhesus_id  == 1 ? 'pos' : 'neg')).show()
                        // $(&quot;.&quot;+ response.result.golongan_darah.nama + (response.result.rhesus_id  == 1 ? 'pos' : 'neg')).addClass('active show')
                        $(&quot;#&quot;+ response.result.golongan_darah.nama + (response.result.rhesus_id  == 1 ? 'pos' : 'neg')).addClass('active show')

                        if(response.result.jenis_kelamin == 'L'){

                            $('#male').attr('checked', true);
                        }else{
                            $('#female').attr('checked', true);
                            $('#female-patient').css('display','block')
                        }

                        $('input[name=&quot;no_rekam_medis&quot;]').attr('readonly', true)
                        $('input[name=&quot;nama_pasien&quot;]').attr('readonly', true)
                        $('input[name=&quot;penanggung_jawab&quot;]').attr('readonly', true)
                        $('input[name=&quot;tanggal_lahir&quot;]').attr('readonly', true)
                        $('input[name=&quot;telepon&quot;]').attr('readonly', true)
                        $('input[name=&quot;alamat&quot;]').attr('readonly', true)
                        var goldar_pasien = 'GolDar Pasien ' + response.result.goldar
                        $('.pasien-goldar').html(goldar_pasien)

                    }else{
                        $('input[name=&quot;no_rekam_medis&quot;]').val('')
                        $('input[name=&quot;nama_pasien&quot;]').val('')
                        $('input[name=&quot;penanggung_jawab&quot;]').val('')
                        $('input[name=&quot;tanggal_lahir&quot;]').val('')
                        $('input[name=&quot;telepon&quot;]').val('')

                        $('input[name=&quot;no_rekam_medis&quot;]').attr('disabled', false)
                        $('input[name=&quot;nama_pasien&quot;]').attr('disabled', false)
                        $('input[name=&quot;penanggung_jawab&quot;]').attr('disabled', false)
                        $('input[name=&quot;tanggal_lahir&quot;]').attr('disabled', false)
                        $('input[name=&quot;telepon&quot;]').attr('disabled', false)
                        $('input[name=&quot;alamat&quot;]').attr('disabled', false)
                        $('.pasien-goldar').html('')
                    }
                }
            });
        }
    });

</value>
   </webElementProperties>
   <webElementProperties>
      <isSelected>false</isSelected>
      <matchCondition>equals</matchCondition>
      <name>xpath</name>
      <type>Main</type>
      <value>id(&quot;content&quot;)/div[@class=&quot;container-fluid&quot;]/div[@class=&quot;card shadow mb-4&quot;]/div[@class=&quot;card-body&quot;]/form[@class=&quot;form-global-handle-transfusi&quot;]/div[@class=&quot;show-udd-selected&quot;]</value>
   </webElementProperties>
   <webElementXpaths>
      <isSelected>true</isSelected>
      <matchCondition>equals</matchCondition>
      <name>xpath:idRelative</name>
      <type>Main</type>
      <value>//div[@id='content']/div/div/div[2]/form/div[3]</value>
   </webElementXpaths>
   <webElementXpaths>
      <isSelected>false</isSelected>
      <matchCondition>equals</matchCondition>
      <name>xpath:neighbor</name>
      <type>Main</type>
      <value>(.//*[normalize-space(text()) and normalize-space(.)='*'])[3]/following::div[6]</value>
   </webElementXpaths>
   <webElementXpaths>
      <isSelected>false</isSelected>
      <matchCondition>equals</matchCondition>
      <name>xpath:position</name>
      <type>Main</type>
      <value>//form/div[3]</value>
   </webElementXpaths>
</WebElementEntity>
